---
title: Code Block Examples
author: ml
dateCreated: 2025-04-17
dateModified:
draft: false
slug: code-blocks
tags:
  - expressive-code
redirects:
excerpt: Examples of code blocks (using expressive-code) in MDX files.
---

Most of these examples are taking directly from Expressive-Code [documentation](https://expressive-code.com/key-features/syntax-highlighting/). 

```js group="demo" title="my-test-file.js"
console.log('Title attribute example')
```
```js group="demo" title="2.js"
console.log('Title attribute example')
```

## Frame titles

There are two ways of doing this: using the `title` attribute or with a comment in the code block:

````
```js title="my-test-file.js"
console.log('Title attribute example')
```

```html
<!-- src/content/index.html -->
<div>File name comment example</div>
```
````

```js title="my-test-file.js"
console.log('Title attribute example')
```

```html
<!-- src/content/index.html -->
<div>File name comment example</div>
```

## Terminal frames

If a language that is commonly used in a terminal is detected, the frame will be rendered as a terminal. There are some exceptions to this:

<cite>
> If the code block contains a shell script file name in the title attribute of the opening code fence or a file name comment, or if the code starts with a shebang (#!), it is considered to be a script file instead of a terminal session, and is rendered with a code editor frame if a file name was provided, or as a plain code block otherwise.

> In all other cases, the code block is considered to be a terminal session and rendered with a terminal frame.
</cite>

````
```bash
echo "This terminal frame has no title"
```

```powershell title="PowerShell terminal example"
Write-Output "This one has a title!"
```
````

```bash
echo "This terminal frame has no title"
```

```powershell title="PowerShell terminal example"
Write-Output "This one has a title!"
```

## Override frame type

Using `frame=` with `code`, `terminal`, `none` and `auto` will override the frame. The default behaviour is auto.

````
```ps frame="code" title="PowerShell Profile.ps1"
# Without overriding, this would be a terminal frame
function Watch-Tail { Get-Content -Tail 20 -Wait $args }
New-Alias tail Watch-Tail
```
````

```ps frame="code" title="PowerShell Profile.ps1"
# Without overriding, this would be a terminal frame
function Watch-Tail { Get-Content -Tail 20 -Wait $args }
New-Alias tail Watch-Tail
```

## Line markers

````
```js {1, 4, 7-8}
// Line 1 - targeted by line number
// Line 2
// Line 3
// Line 4 - targeted by line number
// Line 5
// Line 6
// Line 7 - targeted by range "7-8"
// Line 8 - targeted by range "7-8"
```
````

```js {1, 4, 7-8}
// Line 1 - targeted by line number
// Line 2
// Line 3
// Line 4 - targeted by line number
// Line 5
// Line 6
// Line 7 - targeted by range "7-8"
// Line 8 - targeted by range "7-8"
```

## Insert/Delete line markers

Additionally, you can indicate what should be added/removed from code with git-style line add/delete markers (and can be used in conjunction with normal line markers).

````
```js title="line-markers.js" del={2} ins={3-4} {6}
function demo() {
  console.log('this line is marked as deleted')
  // This line and the next one are marked as inserted
  console.log('this is the second inserted line')

  return 'this line uses the neutral default marker type'
}
```
````

```js title="line-markers.js" del={2} ins={3-4} {6}
function demo() {
  console.log('this line is marked as deleted')
  // This line and the next one are marked as inserted
  console.log('this is the second inserted line')

  return 'this line uses the neutral default marker type'
}
```

## Label marked lines

Following on from the markers (normal, add, delete), you can give string labels to the lines. Useful if you're explaining multiple steps in a process.

````
```jsx {"1":5} del={"2":7-8} ins={"3":10-12}
// labeled-line-markers.jsx
<button
  role="button"
  {...props}
  value={value}
  className={buttonClassName}
  disabled={disabled}
  active={active}
>
  {children &&
    !active &&
    (typeof children === 'string' ? <span>{children}</span> : children)}
</button>
```
````

```jsx {"1":5} del={"2":7-8} ins={"3":10-12}
// labeled-line-markers.jsx
<button
  role="button"
  {...props}
  value={value}
  className={buttonClassName}
  disabled={disabled}
  active={active}
>
  {children &&
    !active &&
    (typeof children === 'string' ? <span>{children}</span> : children)}
</button>
```

Note that the label will overlap the content if too long. If you need a longer label, add a blank line to a block to make space.

```jsx {"1":5} del={"label blocks content":7-8} ins={"long label - add to blank line":10-12}
// labeled-line-markers.jsx
<button
  role="button"
  {...props}
  value={value}
  className={buttonClassName}
  disabled={disabled}
  active={active}
>

  {children &&
    !active &&
    (typeof children === 'string' ? <span>{children}</span> : children)}
</button>
```

## Diff syntax

Similar to the add/delete marker styles, using git diff style syntax will achieve a similar result:

````
```diff
+this line will be marked as inserted
-this line will be marked as deleted
this is a regular line
```
````

```diff
+this line will be marked as inserted
-this line will be marked as deleted
this is a regular line
```

````
```diff lang="js"
  function thisIsJavaScript() {
    // This entire block gets highlighted as JavaScript,
    // and we can still add diff markers to it!
-   console.log('Old code to be removed')
+   console.log('New and shiny code!')
  }
```
````

```diff lang="js"
  function thisIsJavaScript() {
    // This entire block gets highlighted as JavaScript,
    // and we can still add diff markers to it!
-   console.log('Old code to be removed')
+   console.log('New and shiny code!')
  }
```

## Highlight text matches

````
```js "given text"
function demo() {
  // Mark any given text inside lines
  return 'Multiple matches of the given text are supported';
}
```
````

```js "given text"
function demo() {
  // Mark any given text inside lines
  return 'Multiple matches of the given text are supported';
}
```

Also works with RegEx:

````
```ts /ye[sp]/
console.log('The words yes and yep will be marked.')
```
````

```ts /ye[sp]/
console.log('The words yes and yep will be marked.')
```

## Word wrapping

`wrap` will force long lines to wrap, preventing the need for horizontal scrolling. Wrap is default behaviour for this theme (`wrap: true,` defined in `ec.config.mjs`), wrap=false will turn it off for a block.

````
```js wrap
// Example with wrap
function getLongString() {
  return 'This is a very long string that will most probably not fit into the available space unless the container is extremely wide'
}
```
````

```js wrap
// Example with wrap
function getLongString() {
  return 'This is a very long string that will most probably not fit into the available space unless the container is extremely wide'
}
```

````
```js wrap=false
// Example with wrap=false
function getLongString() {
  return 'This is a very long string that will most probably not fit into the available space unless the container is extremely wide'
}
```
````

```js wrap=false
// Example with wrap=false
function getLongString() {
  return 'This is a very long string that will most probably not fit into the available space unless the container is extremely wide'
}
```

There are options for indent preservation and hanging indent settings. See [expressive-code](https://expressive-code.com/key-features/word-wrap/#indent-preservation) docs.

## Show line numbers

````
```js showLineNumbers
// This code block will show line numbers
console.log('Greetings from line 2!')
console.log('I am on line 3')
```

```js showLineNumbers=false
// Line numbers are disabled for this block
console.log('Hello?')
console.log('Sorry, do you know what line I am on?')
```
````

```js showLineNumbers
// This code block will show line numbers
console.log('Greetings from line 2!')
console.log('I am on line 3')
```

```js showLineNumbers=false
// Line numbers are disabled for this block
console.log('Hello?')
console.log('Sorry, do you know what line I am on?')
```

If you're explaining sections of a longer code block, you might want to start the line number based on the larger file. Use `startLineNumber=X`:

````
```js showLineNumbers startLineNumber=5
console.log('Greetings from line 5!')
console.log('I am on line 6')
```
````

```js showLineNumbers startLineNumber=5
console.log('Greetings from line 5!')
console.log('I am on line 6')
```

## Collapsed lines

Uses syntax ` ```js collapse={1-5, 12-14, 21-24}`:

```js collapse={1-5, 12-14, 21-24}
// All this boilerplate setup code will be collapsed
import { someBoilerplateEngine } from '@example/some-boilerplate'
import { evenMoreBoilerplate } from '@example/even-more-boilerplate'

const engine = someBoilerplateEngine(evenMoreBoilerplate())

// This part of the code will be visible by default
engine.doSomething(1, 2, 3, calcFn)

function calcFn() {
  // You can have multiple collapsed sections
  const a = 1
  const b = 2
  const c = a + b

  // This will remain visible
  console.log(`Calculation result: ${a} + ${b} = ${c}`)
  return c
}

// All this code until the end of the block will be collapsed again
engine.closeConnection()
engine.freeMemory()
engine.shutdown({ reason: 'End of example boilerplate code' })
```

With `js collapse={1-5, 12-14, 21-24} collapseStyle=collapsible-start`, the collapsible markers will remain visible, and can be collapsed back down. Default is `github`. Also available: `collapsible-end`, `collapsible-start`, `collapsible-auto`.

```js collapse={1-5, 12-14, 21-24} collapseStyle=collapsible-start
// All this boilerplate setup code will be collapsed
import { someBoilerplateEngine } from '@example/some-boilerplate'
import { evenMoreBoilerplate } from '@example/even-more-boilerplate'

const engine = someBoilerplateEngine(evenMoreBoilerplate())

// This part of the code will be visible by default
engine.doSomething(1, 2, 3, calcFn)

function calcFn() {
  // You can have multiple collapsed sections
  const a = 1
  const b = 2
  const c = a + b

  // This will remain visible
  console.log(`Calculation result: ${a} + ${b} = ${c}`)
  return c
}

// All this code until the end of the block will be collapsed again
engine.closeConnection()
engine.freeMemory()
engine.shutdown({ reason: 'End of example boilerplate code' })
```